!function(e,t){"use strict";var i={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,t){},onAfterSlide:function(e,t){},onBeforeNextSlide:function(e,t){},onBeforePrevSlide:function(e,t){}};e.fn.lightSlider=function(t){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).lightSlider(t)}),this;var n={},l=e.extend(!0,{},i,t),a={},s=this;n.$el=this,"fade"===l.mode&&(l.vertical=!1);var o=s.children(),r=e(window).width(),d=null,c=null,u=0,h=0,f=!1,g=0,p="",v=0,m=!0===l.vertical?"height":"width",S=!0===l.vertical?"margin-bottom":"margin-right",C=0,M=0,b=0,P=0,_=null,w="ontouchstart"in document.documentElement,T={};return T.chbreakpoint=function(){if(r=e(window).width(),l.responsive.length){var t;if(!1===l.autoWidth&&(t=l.item),r<l.responsive[0].breakpoint)for(var i=0;i<l.responsive.length;i++)r<l.responsive[i].breakpoint&&(d=l.responsive[i].breakpoint,c=l.responsive[i]);if(void 0!==c&&null!==c)for(var n in c.settings)c.settings.hasOwnProperty(n)&&((void 0===a[n]||null===a[n])&&(a[n]=l[n]),l[n]=c.settings[n]);if(!e.isEmptyObject(a)&&r>l.responsive[0].breakpoint)for(var s in a)a.hasOwnProperty(s)&&(l[s]=a[s]);!1===l.autoWidth&&C>0&&b>0&&t!==l.item&&(v=Math.round(C/((b+l.slideMargin)*l.slideMove)))}},T.calSW=function(){!1===l.autoWidth&&(b=(g-(l.item*l.slideMargin-l.slideMargin))/l.item)},T.calWidth=function(e){var t=!0===e?p.find(".lslide").length:o.length;if(!1===l.autoWidth)h=t*(b+l.slideMargin);else{h=0;for(var i=0;t>i;i++)h+=parseInt(o.eq(i).width())+l.slideMargin}return h},(n={doCss:function(){return!(!l.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,i=0;i<e.length;i++)if(e[i]in t.style)return!0}())},keyPress:function(){l.keyPress&&e(document).on("keyup.lightslider",function(t){e(":focus").is("input, textarea")||(t.preventDefault?t.preventDefault():t.returnValue=!1,37===t.keyCode?s.goToPrevSlide():39===t.keyCode&&s.goToNextSlide())})},controls:function(){l.controls&&(s.after('<div class="lSAction"><a class="lSPrev">'+l.prevHtml+'</a><a class="lSNext">'+l.nextHtml+"</a></div>"),l.autoWidth?T.calWidth(!1)<g&&p.find(".lSAction").hide():u<=l.item&&p.find(".lSAction").hide(),p.find(".lSAction a").on("click",function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,"lSPrev"===e(this).attr("class")?s.goToPrevSlide():s.goToNextSlide(),!1}))},initialStyle:function(){var e=this;"fade"===l.mode&&(l.autoWidth=!1,l.slideEndAnimation=!1),l.auto&&(l.slideEndAnimation=!1),l.autoWidth&&(l.slideMove=1,l.item=1),l.loop&&(l.slideMove=1,l.freeMove=!1),l.onBeforeStart.call(this,s),T.chbreakpoint(),s.addClass("lightSlider").wrap('<div class="lSSlideOuter '+l.addClass+'"><div class="lSSlideWrapper"></div></div>'),p=s.parent(".lSSlideWrapper"),!0===l.rtl&&p.parent().addClass("lSrtl"),l.vertical?(p.parent().addClass("vertical"),g=l.verticalHeight,p.css("height",g+"px")):g=s.outerWidth(),o.addClass("lslide"),!0===l.loop&&"slide"===l.mode&&(T.calSW(),T.clone=function(){if(T.calWidth(!0)>g){for(var t=0,i=0,n=0;n<o.length&&(t+=parseInt(s.find(".lslide").eq(n).width())+l.slideMargin,i++,!(t>=g+l.slideMargin));n++);var a=!0===l.autoWidth?i:l.item;if(a<s.find(".clone.left").length)for(var r=0;r<s.find(".clone.left").length-a;r++)o.eq(r).remove();if(a<s.find(".clone.right").length)for(var d=o.length-1;d>o.length-1-s.find(".clone.right").length;d--)v--,o.eq(d).remove();for(var c=s.find(".clone.right").length;a>c;c++)s.find(".lslide").eq(c).clone().removeClass("lslide").addClass("clone right").appendTo(s),v++;for(var u=s.find(".lslide").length-s.find(".clone.left").length;u>s.find(".lslide").length-a;u--)s.find(".lslide").eq(u-1).clone().removeClass("lslide").addClass("clone left").prependTo(s);o=s.children()}else o.hasClass("clone")&&(s.find(".clone").remove(),e.move(s,0))},T.clone()),T.sSW=function(){u=o.length,!0===l.rtl&&!1===l.vertical&&(S="margin-left"),!1===l.autoWidth&&o.css(m,b+"px"),o.css(S,l.slideMargin+"px"),h=T.calWidth(!1),s.css(m,h+"px"),!0===l.loop&&"slide"===l.mode&&!1===f&&(v=s.find(".clone.left").length)},T.calL=function(){o=s.children(),u=o.length},this.doCss()&&p.addClass("usingCss"),T.calL(),"slide"===l.mode?(T.calSW(),T.sSW(),!0===l.loop&&(C=e.slideValue(),this.move(s,C)),!1===l.vertical&&this.setHeight(s,!1)):(this.setHeight(s,!0),s.addClass("lSFade"),this.doCss()||(o.fadeOut(0),o.eq(v).fadeIn(0))),!0===l.loop&&"slide"===l.mode?o.eq(v).addClass("active"):o.first().addClass("active")},pager:function(){var e=this;if(T.createPager=function(){P=(g-(l.thumbItem*l.thumbMargin-l.thumbMargin))/l.thumbItem;var t=p.find(".lslide"),i=p.find(".lslide").length,n=0,a="",o=0;for(n=0;i>n;n++){"slide"===l.mode&&(l.autoWidth?o+=(parseInt(t.eq(n).width())+l.slideMargin)*l.slideMove:o=n*(b+l.slideMargin)*l.slideMove);var r=t.eq(n*l.slideMove).attr("data-thumb");if(a+=!0===l.gallery?'<li style="width:100%;'+m+":"+P+"px;"+S+":"+l.thumbMargin+'px"><a href="#"><img src="'+r+'" /></a></li>':'<li><a href="#">'+(n+1)+"</a></li>","slide"===l.mode&&o>=h-g-l.slideMargin){n+=1;var d=2;l.autoWidth&&(a+='<li><a href="#">'+(n+1)+"</a></li>",d=1),d>n?(a=null,p.parent().addClass("noPager")):p.parent().removeClass("noPager");break}}var c=p.parent();c.find(".lSPager").html(a),!0===l.gallery&&(!0===l.vertical&&c.find(".lSPager").css("width",l.vThumbWidth+"px"),M=n*(l.thumbMargin+P)+.5,c.find(".lSPager").css({property:M+"px","transition-duration":l.speed+"ms"}),!0===l.vertical&&p.parent().css("padding-right",l.vThumbWidth+l.galleryMargin+"px"),c.find(".lSPager").css(m,M+"px"));var u=c.find(".lSPager").find("li");u.first().addClass("active"),u.on("click",function(){return!0===l.loop&&"slide"===l.mode?v+=u.index(this)-c.find(".lSPager").find("li.active").index():v=u.index(this),s.mode(!1),!0===l.gallery&&e.slideThumb(),!1})},l.pager){var t="lSpg";l.gallery&&(t="lSGallery"),p.after('<ul class="lSPager '+t+'"></ul>');var i=l.vertical?"margin-left":"margin-top";p.parent().find(".lSPager").css(i,l.galleryMargin+"px"),T.createPager()}setTimeout(function(){T.init()},0)},setHeight:function(e,t){var i=null,n=this;i=l.loop?e.children(".lslide ").first():e.children().first();var a=function(){var n=i.outerHeight(),l=0,a=n;t&&(n=0,l=100*a/g),e.css({height:n+"px","padding-bottom":l+"%"})};a(),i.find("img").length?i.find("img")[0].complete?(a(),_||n.auto()):i.find("img").on("load",function(){setTimeout(function(){a(),_||n.auto()},100)}):_||n.auto()},active:function(e,t){this.doCss()&&"fade"===l.mode&&p.addClass("on");var i=0;if(v*l.slideMove<u){e.removeClass("active"),this.doCss()||"fade"!==l.mode||!1!==t||e.fadeOut(l.speed),i=!0===t?v:v*l.slideMove;var n,a;!0===t&&(n=e.length,a=n-1,i+1>=n&&(i=a)),!0===l.loop&&"slide"===l.mode&&(i=!0===t?v-s.find(".clone.left").length:v*l.slideMove,!0===t&&(n=e.length,a=n-1,i+1===n?i=a:i+1>n&&(i=0))),this.doCss()||"fade"!==l.mode||!1!==t||e.eq(i).fadeIn(l.speed),e.eq(i).addClass("active")}else e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==l.mode||!1!==t||(e.fadeOut(l.speed),e.eq(i).fadeIn(l.speed))},move:function(e,t){!0===l.rtl&&(t=-t),this.doCss()?e.css(!0===l.vertical?{transform:"translate3d(0px, "+-t+"px, 0px)","-webkit-transform":"translate3d(0px, "+-t+"px, 0px)"}:{transform:"translate3d("+-t+"px, 0px, 0px)","-webkit-transform":"translate3d("+-t+"px, 0px, 0px)"}):!0===l.vertical?e.css("position","relative").animate({top:-t+"px"},l.speed,l.easing):e.css("position","relative").animate({left:-t+"px"},l.speed,l.easing);var i=p.parent().find(".lSPager").find("li");this.active(i,!0)},fade:function(){this.active(o,!1);var e=p.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;T.calSlide=function(){h>g&&(C=e.slideValue(),e.active(o,!1),C>h-g-l.slideMargin?C=h-g-l.slideMargin:0>C&&(C=0),e.move(s,C),!0===l.loop&&"slide"===l.mode&&(v>=u-s.find(".clone.left").length/l.slideMove&&e.resetSlide(s.find(".clone.left").length),0===v&&e.resetSlide(p.find(".lslide").length)))},T.calSlide()},resetSlide:function(e){var t=this;p.find(".lSAction a").addClass("disabled"),setTimeout(function(){v=e,p.css("transition-duration","0ms"),C=t.slideValue(),t.active(o,!1),n.move(s,C),setTimeout(function(){p.css("transition-duration",l.speed+"ms"),p.find(".lSAction a").removeClass("disabled")},50)},l.speed+100)},slideValue:function(){var e=0;if(!1===l.autoWidth)e=v*(b+l.slideMargin)*l.slideMove;else{e=0;for(var t=0;v>t;t++)e+=parseInt(o.eq(t).width())+l.slideMargin}return e},slideThumb:function(){var e;switch(l.currentPagerPosition){case"left":e=0;break;case"middle":e=g/2-P/2;break;case"right":e=g-P}var t=v-s.find(".clone.left").length,i=p.parent().find(".lSPager");"slide"===l.mode&&!0===l.loop&&(t>=i.children().length?t=0:0>t&&(t=i.children().length));var n=t*(P+l.thumbMargin)-e;n+g>M&&(n=M-g-l.thumbMargin),0>n&&(n=0),this.move(i,n)},auto:function(){l.auto&&(clearInterval(_),_=setInterval(function(){s.goToNextSlide()},l.pause))},pauseOnHover:function(){var t=this;l.auto&&l.pauseOnHover&&(p.on("mouseenter",function(){e(this).addClass("ls-hover"),s.pause(),l.auto=!0}),p.on("mouseleave",function(){e(this).removeClass("ls-hover"),p.find(".lightSlider").hasClass("lsGrabbing")||t.auto()}))},touchMove:function(e,t){if(p.css("transition-duration","0ms"),"slide"===l.mode){var i=C-(e-t);if(i>=h-g-l.slideMargin)if(!1===l.freeMove)i=h-g-l.slideMargin;else{var n=h-g-l.slideMargin;i=n+(i-n)/5}else 0>i&&(!1===l.freeMove?i=0:i/=5);this.move(s,i)}},touchEnd:function(e){if(p.css("transition-duration",l.speed+"ms"),"slide"===l.mode){var t=!1,i=!0;(C-=e)>h-g-l.slideMargin?(C=h-g-l.slideMargin,!1===l.autoWidth&&(t=!0)):0>C&&(C=0);var n=function(e){var i=0;if(t||e&&(i=1),l.autoWidth)for(var n=0,a=0;a<o.length&&(n+=parseInt(o.eq(a).width())+l.slideMargin,v=a+i,!(n>=C));a++);else{var s=C/((b+l.slideMargin)*l.slideMove);v=parseInt(s)+i,C>=h-g-l.slideMargin&&s%1!=0&&v++}};e>=l.swipeThreshold?(n(!1),i=!1):e<=-l.swipeThreshold&&(n(!0),i=!1),s.mode(i),this.slideThumb()}else e>=l.swipeThreshold?s.goToPrevSlide():e<=-l.swipeThreshold&&s.goToNextSlide()},enableDrag:function(){var t=this;if(!w){var i=0,n=0,a=!1;p.find(".lightSlider").addClass("lsGrab"),p.on("mousedown",function(t){return!(g>h&&0!==h)&&void("lSPrev"!==e(t.target).attr("class")&&"lSNext"!==e(t.target).attr("class")&&(i=!0===l.vertical?t.pageY:t.pageX,a=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,p.scrollLeft+=1,p.scrollLeft-=1,p.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(_)))}),e(window).on("mousemove",function(e){a&&(n=!0===l.vertical?e.pageY:e.pageX,t.touchMove(n,i))}),e(window).on("mouseup",function(s){if(a){p.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),a=!1;var o=(n=!0===l.vertical?s.pageY:s.pageX)-i;Math.abs(o)>=l.swipeThreshold&&e(window).on("click.ls",function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopImmediatePropagation(),t.stopPropagation(),e(window).off("click.ls")}),t.touchEnd(o)}})}},enableTouch:function(){var e=this;if(w){var t={},i={};p.on("touchstart",function(e){i=e.originalEvent.targetTouches[0],t.pageX=e.originalEvent.targetTouches[0].pageX,t.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(_)}),p.on("touchmove",function(n){if(g>h&&0!==h)return!1;var a=n.originalEvent;i=a.targetTouches[0];var s=Math.abs(i.pageX-t.pageX),o=Math.abs(i.pageY-t.pageY);!0===l.vertical?(3*o>s&&n.preventDefault(),e.touchMove(i.pageY,t.pageY)):(3*s>o&&n.preventDefault(),e.touchMove(i.pageX,t.pageX))}),p.on("touchend",function(){if(g>h&&0!==h)return!1;var n;n=!0===l.vertical?i.pageY-t.pageY:i.pageX-t.pageX,e.touchEnd(n)})}},build:function(){var t=this;t.initialStyle(),this.doCss()&&(!0===l.enableTouch&&t.enableTouch(),!0===l.enableDrag&&t.enableDrag()),e(window).on("focus",function(){t.auto()}),e(window).on("blur",function(){clearInterval(_)}),t.pager(),t.pauseOnHover(),t.controls(),t.keyPress()}}).build(),T.init=function(){T.chbreakpoint(),!0===l.vertical?(g=l.item>1?l.verticalHeight:o.outerHeight(),p.css("height",g+"px")):g=p.outerWidth(),!0===l.loop&&"slide"===l.mode&&T.clone(),T.calL(),"slide"===l.mode&&s.removeClass("lSSlide"),"slide"===l.mode&&(T.calSW(),T.sSW()),setTimeout(function(){"slide"===l.mode&&s.addClass("lSSlide")},1e3),l.pager&&T.createPager(),!0===l.adaptiveHeight&&!1===l.vertical&&s.css("height",o.eq(v).outerHeight(!0)),!1===l.adaptiveHeight&&("slide"===l.mode?!1===l.vertical?n.setHeight(s,!1):n.auto():n.setHeight(s,!0)),!0===l.gallery&&n.slideThumb(),"slide"===l.mode&&n.slide(),!1===l.autoWidth?o.length<=l.item?p.find(".lSAction").hide():p.find(".lSAction").show():T.calWidth(!1)<g&&0!==h?p.find(".lSAction").hide():p.find(".lSAction").show()},s.goToPrevSlide=function(){if(v>0)l.onBeforePrevSlide.call(this,s,v),v--,s.mode(!1),!0===l.gallery&&n.slideThumb();else if(!0===l.loop){if(l.onBeforePrevSlide.call(this,s,v),"fade"===l.mode){var e=u-1;v=parseInt(e/l.slideMove)}s.mode(!1),!0===l.gallery&&n.slideThumb()}else!0===l.slideEndAnimation&&(s.addClass("leftEnd"),setTimeout(function(){s.removeClass("leftEnd")},400))},s.goToNextSlide=function(){var e=!0;"slide"===l.mode&&(e=n.slideValue()<h-g-l.slideMargin),v*l.slideMove<u-l.slideMove&&e?(l.onBeforeNextSlide.call(this,s,v),v++,s.mode(!1),!0===l.gallery&&n.slideThumb()):!0===l.loop?(l.onBeforeNextSlide.call(this,s,v),v=0,s.mode(!1),!0===l.gallery&&n.slideThumb()):!0===l.slideEndAnimation&&(s.addClass("rightEnd"),setTimeout(function(){s.removeClass("rightEnd")},400))},s.mode=function(e){!0===l.adaptiveHeight&&!1===l.vertical&&s.css("height",o.eq(v).outerHeight(!0)),!1===f&&("slide"===l.mode?n.doCss()&&(s.addClass("lSSlide"),""!==l.speed&&p.css("transition-duration",l.speed+"ms"),""!==l.cssEasing&&p.css("transition-timing-function",l.cssEasing)):n.doCss()&&(""!==l.speed&&s.css("transition-duration",l.speed+"ms"),""!==l.cssEasing&&s.css("transition-timing-function",l.cssEasing))),e||l.onBeforeSlide.call(this,s,v),"slide"===l.mode?n.slide():n.fade(),p.hasClass("ls-hover")||n.auto(),setTimeout(function(){e||l.onAfterSlide.call(this,s,v)},l.speed),f=!0},s.play=function(){s.goToNextSlide(),l.auto=!0,n.auto()},s.pause=function(){l.auto=!1,clearInterval(_)},s.refresh=function(){T.init()},s.getCurrentSlideCount=function(){var e=v;if(l.loop){var t=p.find(".lslide").length,i=s.find(".clone.left").length;e=i-1>=v?t+(v-i):v>=t+i?v-t-i:v-i}return e+1},s.getTotalSlideCount=function(){return p.find(".lslide").length},s.goToSlide=function(e){v=l.loop?e+s.find(".clone.left").length-1:e,s.mode(!1),!0===l.gallery&&n.slideThumb()},s.destroy=function(){s.lightSlider&&(s.goToPrevSlide=function(){},s.goToNextSlide=function(){},s.mode=function(){},s.play=function(){},s.pause=function(){},s.refresh=function(){},s.getCurrentSlideCount=function(){},s.getTotalSlideCount=function(){},s.goToSlide=function(){},s.lightSlider=null,T={init:function(){}},s.parent().parent().find(".lSAction, .lSPager").remove(),s.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),s.children().removeAttr("style"),o.removeClass("lslide active"),s.find(".clone").remove(),o=null,_=null,f=!1,v=0)},setTimeout(function(){l.onSliderLoad.call(this,s)},10),e(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,T.init()},200)}),this}}(jQuery),function(e,t,i,n){var l,a,s,o,r,d,c,u,h,f,g,p,v={scrollSpeed:1e3,autoScrollSpeed:!0,scrollEasing:"easeInOutQuint",scrollingEasing:"easeOutQuint",pageEndSmoothScroll:!0,layout:"vertical",offset:0,highlightSelector:!1,clickedClass:"mPS2id-clicked",targetClass:"mPS2id-target",highlightClass:"mPS2id-highlight",forceSingleHighlight:!1,keepHighlightUntilNext:!1,highlightByNextTarget:!1,disablePluginBelow:!1,clickEvents:!0,appendHash:!1,onStart:function(){},onComplete:function(){},defaultSelector:!1,live:!0,liveSelector:!1},m=0,S={init:function(n){var n=e.extend(!0,{},v,n);if(e(i).data("mPS2id",n),a=e(i).data("mPS2id"),!this.selector){this.each(function(){var t=e(this);t.hasClass("__mPS2id")||t.addClass("__mPS2id")}),this.selector=".__mPS2id"}a.liveSelector&&(this.selector+=","+a.liveSelector),l=l?l+","+this.selector:this.selector,a.defaultSelector&&("object"==typeof e(l)&&0!==e(l).length||(l=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id'],._ps2id")),a.clickEvents&&e(i).undelegate(".mPS2id").delegate(l,"click.mPS2id",function(t){if(C._isDisabled.call(null))C._removeClasses.call(null);else{var i=e(this),n=i.attr("href"),l=i.prop("href");n&&-1!==n.indexOf("#/")||(C._reset.call(null),f=i.data("ps2id-offset")||0,C._isValid.call(null,n,l)&&C._findTarget.call(null,n)&&(t.preventDefault(),o="selector",r=i,C._setClasses.call(null,!0),C._scrollTo.call(null)))}}),e(t).unbind(".mPS2id").bind("scroll.mPS2id resize.mPS2id",function(){if(C._isDisabled.call(null))C._removeClasses.call(null);else{var t=e("._mPS2id-t");t.each(function(i){var n=e(this),l=n.attr("id"),a=C._findHighlight.call(null,l);C._setClasses.call(null,!1,n,a),i==t.length-1&&C._extendClasses.call(null)})}}),s=!0,C._setup.call(null),C._live.call(null)},scrollTo:function(t,i){if(C._isDisabled.call(null))C._removeClasses.call(null);else if(t&&void 0!==t){C._isInit.call(null);var n={layout:a.layout,offset:a.offset,clicked:!1},i=e.extend(!0,{},n,i);C._reset.call(null),u=i.layout,h=i.offset,t=-1!==t.indexOf("#")?t:"#"+t,C._isValid.call(null,t)&&C._findTarget.call(null,t)&&(o="scrollTo",(r=i.clicked)&&C._setClasses.call(null,!0),C._scrollTo.call(null))}},destroy:function(){e(t).unbind(".mPS2id"),e(i).undelegate(".mPS2id").removeData("mPS2id"),e("._mPS2id-t").removeData("mPS2id"),C._removeClasses.call(null,!0)}},C={_isDisabled:function(){var e=t,n="inner",l=a.disablePluginBelow instanceof Array?[a.disablePluginBelow[0]||0,a.disablePluginBelow[1]||0]:[a.disablePluginBelow||0,0];return"innerWidth"in t||(n="client",e=i.documentElement||i.body),e[n+"Width"]<=l[0]||e[n+"Height"]<=l[1]},_isValid:function(e,i){if(e){var n=-1!==(i=i||e).indexOf("#/")?i.split("#/")[0]:i.split("#")[0],l=t.location.toString().split("#")[0];return"#"!==e&&-1!==e.indexOf("#")&&(""===n||decodeURIComponent(n)===decodeURIComponent(l))}},_setup:function(){var t=C._highlightSelector(),i=1,n=0;return e(t).each(function(){var l=e(this),s=l.attr("href"),o=l.prop("href");if(C._isValid.call(null,s,o)){var r=-1!==s.indexOf("#/")?s.split("#/")[1]:s.split("#")[1],d=e("#"+r);if(d.length>0){a.highlightByNextTarget&&d!==n&&(n?n.data("mPS2id",{tn:d}):d.data("mPS2id",{tn:"0"}),n=d),d.hasClass("_mPS2id-t")||d.addClass("_mPS2id-t"),d.data("mPS2id",{i:i}),l.hasClass("_mPS2id-h")||l.addClass("_mPS2id-h");var c=C._findHighlight.call(null,r);C._setClasses.call(null,!1,d,c),m=i,++i==e(t).length&&C._extendClasses.call(null)}}})},_highlightSelector:function(){return a.highlightSelector&&""!==a.highlightSelector?a.highlightSelector:l},_findTarget:function(t){var i=-1!==t.indexOf("#/")?t.split("#/")[1]:t.split("#")[1],n=e("#"+i);if(n.length<1||"fixed"===n.css("position")){if("top"!==i)return;n=e("body")}return d=n,u||(u=a.layout),h=C._setOffset.call(null),c=[(n.offset().top-h[0]).toString(),(n.offset().left-h[1]).toString()],c[0]=c[0]<0?0:c[0],c[1]=c[1]<0?0:c[1],c},_setOffset:function(){h||(h=a.offset?a.offset:0),f&&(h=f);var t,i,n,l;switch(typeof h){case"object":case"string":(i=[(t=[h.y?h.y:h,h.x?h.x:h])[0]instanceof jQuery?t[0]:e(t[0]),t[1]instanceof jQuery?t[1]:e(t[1])])[0].length>0?(n=i[0].height(),"fixed"===i[0].css("position")&&(n+=i[0][0].offsetTop)):n=!isNaN(parseFloat(t[0]))&&isFinite(t[0])?parseInt(t[0]):0,i[1].length>0?(l=i[1].width(),"fixed"===i[1].css("position")&&(l+=i[1][0].offsetLeft)):l=!isNaN(parseFloat(t[1]))&&isFinite(t[1])?parseInt(t[1]):0;break;case"function":(t=h.call(null))instanceof Array?(n=t[0],l=t[1]):n=l=t;break;default:n=l=parseInt(h)}return[n,l]},_findHighlight:function(i){var n=t.location,l=n.toString().split("#")[0],a=n.pathname;return e("._mPS2id-h[href='#"+i+"'],._mPS2id-h[href='"+l+"#"+i+"'],._mPS2id-h[href='"+a+"#"+i+"'],._mPS2id-h[href='#/"+i+"'],._mPS2id-h[href='"+l+"#/"+i+"'],._mPS2id-h[href='"+a+"#/"+i+"']")},_setClasses:function(t,i,n){var l=a.clickedClass,s=a.targetClass,o=a.highlightClass;t&&l&&""!==l?(e("."+l).removeClass(l),r.addClass(l)):i&&s&&""!==s&&n&&o&&""!==o&&(C._currentTarget.call(null,i)?(i.addClass(s),n.addClass(o)):(!a.keepHighlightUntilNext||e("."+o).length>1)&&(i.removeClass(s),n.removeClass(o)))},_extendClasses:function(){var t=a.targetClass,i=a.highlightClass,n=e("."+t),l=e("."+i),s=t+"-first",o=t+"-last",r=i+"-first",d=i+"-last";e("._mPS2id-t").removeClass(s+" "+o),e("._mPS2id-h").removeClass(r+" "+d),a.forceSingleHighlight?a.keepHighlightUntilNext&&n.length>1?(n.slice(0,1).removeClass(t),l.slice(0,1).removeClass(i)):(n.slice(1).removeClass(t),l.slice(1).removeClass(i)):(n.slice(0,1).addClass(s).end().slice(-1).addClass(o),l.slice(0,1).addClass(r).end().slice(-1).addClass(d))},_removeClasses:function(t){e("."+a.clickedClass).removeClass(a.clickedClass),e("."+a.targetClass).removeClass(a.targetClass+" "+a.targetClass+"-first "+a.targetClass+"-last"),e("."+a.highlightClass).removeClass(a.highlightClass+" "+a.highlightClass+"-first "+a.highlightClass+"-last"),t&&(e("._mPS2id-t").removeClass("_mPS2id-t"),e("._mPS2id-h").removeClass("_mPS2id-h"))},_currentTarget:function(i){var n=a["target_"+i.data("mPS2id").i],l=i.data("ps2id-target"),s=l&&e(l)[0]?e(l)[0].getBoundingClientRect():i[0].getBoundingClientRect();if(void 0!==n){var o=i.offset().top,r=i.offset().left,d=n.from?n.from+o:o,c=n.to?n.to+o:o,u=n.fromX?n.fromX+r:r,h=n.toX?n.toX+r:r;return s.top>=c&&s.top<=d&&s.left>=h&&s.left<=u}var f=e(t).height(),g=e(t).width(),p=l?e(l).height():i.height(),v=l?e(l).width():i.width(),m=1+p/f,S=m,C=p<f?m*(f/p):m,M=1+v/g,b=M,P=v<g?M*(g/v):M,_=[s.top<=f/S,s.bottom>=f/C,s.left<=g/b,s.right>=g/P];if(a.highlightByNextTarget){var w=i.data("mPS2id").tn;if(w){var T=w[0].getBoundingClientRect();"vertical"===a.layout?_=[s.top<=f/2,T.top>f/2,1,1]:"horizontal"===a.layout&&(_=[1,1,s.left<=g/2,T.left>g/2])}}return _[0]&&_[1]&&_[2]&&_[3]},_scrollTo:function(){p=C._scrollSpeed.call(null),c=a.pageEndSmoothScroll?C._pageEndSmoothScroll.call(null):c;var i=e("html,body"),n=a.autoScrollSpeed?C._autoScrollSpeed.call(null):p,l=i.is(":animated")?a.scrollingEasing:a.scrollEasing,s=e(t).scrollTop(),o=e(t).scrollLeft();switch(u){case"horizontal":o!=c[1]&&(C._callbacks.call(null,"onStart"),i.stop().animate({scrollLeft:c[1]},n,l).promise().then(function(){C._callbacks.call(null,"onComplete")}));break;case"auto":if(s!=c[0]||o!=c[1])if(C._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var r;i.stop().animate({pageYOffset:c[0],pageXOffset:c[1]},{duration:n,easing:l,step:function(e,i){"pageXOffset"==i.prop?r=e:"pageYOffset"==i.prop&&t.scrollTo(r,e)}}).promise().then(function(){C._callbacks.call(null,"onComplete")})}else i.stop().animate({scrollTop:c[0],scrollLeft:c[1]},n,l).promise().then(function(){C._callbacks.call(null,"onComplete")});break;default:s!=c[0]&&(C._callbacks.call(null,"onStart"),i.stop().animate({scrollTop:c[0]},n,l).promise().then(function(){C._callbacks.call(null,"onComplete")}))}},_pageEndSmoothScroll:function(){var n=e(i).height(),l=e(i).width(),a=e(t).height(),s=e(t).width();return[n-c[0]<a?n-a:c[0],l-c[1]<s?l-s:c[1]]},_scrollSpeed:function(){var t=a.scrollSpeed;return r&&r.length&&r.add(r.parent()).each(function(){var i=e(this);if(i.attr("class")){var n=i.attr("class").split(" ");for(var l in n)if(String(n[l]).match(/^ps2id-speed-\d+$/)){t=n[l].split("ps2id-speed-")[1];break}}}),parseInt(t)},_autoScrollSpeed:function(){var n=e(t).scrollTop(),l=e(t).scrollLeft(),a=e(i).height(),s=e(i).width(),o=[p+p*Math.floor(Math.abs(c[0]-n)/a*100)/100,p+p*Math.floor(Math.abs(c[1]-l)/s*100)/100];return Math.max.apply(Math,o)},_callbacks:function(e){if(a)switch(this.mPS2id={trigger:o,clicked:r,target:d,scrollTo:{y:c[0],x:c[1]}},e){case"onStart":if(a.appendHash&&t.history&&t.history.pushState&&r&&r.length){var i="#"+r.attr("href").split("#")[1];i!==t.location.hash&&history.pushState("","",i)}a.onStart.call(null,this.mPS2id);break;case"onComplete":a.onComplete.call(null,this.mPS2id)}},_reset:function(){u=h=f=!1},_isInit:function(){s||S.init.apply(this)},_live:function(){g=setTimeout(function(){a.live?e(C._highlightSelector()).length!==m&&C._setup.call(null):g&&clearTimeout(g),C._live.call(null)},1e3)},_easing:function(){function t(e){var t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}e.easing.easeInQuad=e.easing.easeInQuad||function(e){return e*e},e.easing.easeOutQuad=e.easing.easeOutQuad||function(e){return 1-(1-e)*(1-e)},e.easing.easeInOutQuad=e.easing.easeInOutQuad||function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},e.easing.easeInCubic=e.easing.easeInCubic||function(e){return e*e*e},e.easing.easeOutCubic=e.easing.easeOutCubic||function(e){return 1-Math.pow(1-e,3)},e.easing.easeInOutCubic=e.easing.easeInOutCubic||function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},e.easing.easeInQuart=e.easing.easeInQuart||function(e){return e*e*e*e},e.easing.easeOutQuart=e.easing.easeOutQuart||function(e){return 1-Math.pow(1-e,4)},e.easing.easeInOutQuart=e.easing.easeInOutQuart||function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},e.easing.easeInQuint=e.easing.easeInQuint||function(e){return e*e*e*e*e},e.easing.easeOutQuint=e.easing.easeOutQuint||function(e){return 1-Math.pow(1-e,5)},e.easing.easeInOutQuint=e.easing.easeInOutQuint||function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},e.easing.easeInExpo=e.easing.easeInExpo||function(e){return 0===e?0:Math.pow(2,10*e-10)},e.easing.easeOutExpo=e.easing.easeOutExpo||function(e){return 1===e?1:1-Math.pow(2,-10*e)},e.easing.easeInOutExpo=e.easing.easeInOutExpo||function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},e.easing.easeInSine=e.easing.easeInSine||function(e){return 1-Math.cos(e*Math.PI/2)},e.easing.easeOutSine=e.easing.easeOutSine||function(e){return Math.sin(e*Math.PI/2)},e.easing.easeInOutSine=e.easing.easeInOutSine||function(e){return-(Math.cos(Math.PI*e)-1)/2},e.easing.easeInCirc=e.easing.easeInCirc||function(e){return 1-Math.sqrt(1-Math.pow(e,2))},e.easing.easeOutCirc=e.easing.easeOutCirc||function(e){return Math.sqrt(1-Math.pow(e-1,2))},e.easing.easeInOutCirc=e.easing.easeInOutCirc||function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},e.easing.easeInElastic=e.easing.easeInElastic||function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*(2*Math.PI/3))},e.easing.easeOutElastic=e.easing.easeOutElastic||function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*(2*Math.PI/3))+1},e.easing.easeInOutElastic=e.easing.easeInOutElastic||function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5))/2+1},e.easing.easeInBack=e.easing.easeInBack||function(e){return 2.70158*e*e*e-1.70158*e*e},e.easing.easeOutBack=e.easing.easeOutBack||function(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)},e.easing.easeInOutBack=e.easing.easeInOutBack||function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-2.5949095)/2:(Math.pow(2*e-2,2)*(3.5949095*(2*e-2)+2.5949095)+2)/2},e.easing.easeInBounce=e.easing.easeInBounce||function(e){return 1-t(1-e)},e.easing.easeOutBounce=e.easing.easeOutBounce||t,e.easing.easeInOutBounce=e.easing.easeInOutBounce||function(e){return e<.5?(1-t(1-2*e))/2:(1+t(2*e-1))/2}}};C._easing.call(),e.fn.mPageScroll2id=function(t){return S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):S.init.apply(this,arguments)},e.mPageScroll2id=function(t){return S[t]?S[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):S.init.apply(this,arguments)},e.mPageScroll2id.defaults=v}(jQuery,window,document);